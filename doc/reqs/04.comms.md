# 4 Communication requirements

## 4.1 System should decompose message communication to be independent on underlying transport layer

The system should be implemented so that the top message-based communication mechanism is independent of the way the messages are sent or received, be it UART, I2C, or CAN.

## 4.2 UART shall be supported as transport

UART should be first-class citizen for the message transportation. Note that this is full UART: rx/tx pair of wires.

## 4.3 Message shall be defined in one protobuf file

Protobuf is picked as desired message definition mechanism due to it being multi-language compatible.
This way we achieve flexibility for the user, as they can pick whatever language they want easily.

Limitation to one file exists for friendly dependency management - if user wants to use the servo all that is needed is to download _one file_.

## 4.4 COBS can be used as framing mechanism

Protobufs does not have native framing capability. (We can't tell where message starts or ends)
Tranports like UART does not have either, hence we have to introduce separate framing mechanism.

COBS should be first-class citizen and have full support.

## 4.5 Exact communication interface is property of board

The exact support combination of communication interface is defined by the boards themselves. Each board should clearly defined what communication is supported.

For example: Protobuf messages wrapped in COBS sent over UART
