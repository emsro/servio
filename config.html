<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>servio: Configuration</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">servio
   </div>
   <div id="projectbrief">open source servomotor firmware</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('config.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Configuration</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="autotoc_md36"></a>
REQ6.1 One configuration</h1>
<p>Configuration shall be a single set of key/value pairs stored in the system.</p>
<p>The keys has to be unique, and are in form of identificator.</p>
<p>key/value pairs in configuration can also be referred to as fields.</p>
<h1><a class="anchor" id="autotoc_md37"></a>
REQ6.2 Configuration can be managed by the user via the communication interface</h1>
<p>Use shall have well defined interface to the servo to change the configuration.</p>
<p>The interface shall support multiple operations for the configuration, listed as subrequirements.</p>
<h2><a class="anchor" id="autotoc_md38"></a>
REQ6.2.1 Get configuration field</h2>
<p>Retrieves value of configuration field based on key.</p>
<h2><a class="anchor" id="autotoc_md39"></a>
REQ6.2.2 Set configuration field</h2>
<p>Sets a new value to configuration field based on key.</p>
<p>Set alone does not cause values to be persistent.</p>
<h2><a class="anchor" id="autotoc_md40"></a>
REQ6.2.3 Commit the configuration</h2>
<p>Executes operation to make the current configuration persistent.</p>
<h2><a class="anchor" id="autotoc_md41"></a>
REQ6.2.4 Clear the configuration</h2>
<p>Removes last stored set of configuration.</p>
<h1><a class="anchor" id="autotoc_md42"></a>
REQ6.3 Configuration shall be documented</h1>
<p>Each field shall have easy to access configuration as to it's semantics.</p>
<p>Documentation of each field should also define what units are used for that field, or what is the valid domain of values.</p>
<h1><a class="anchor" id="autotoc_md43"></a>
REQ6.4 Configuration is tied to the version of firmware</h1>
<p>The exact list of configuration fields is property of the version of the firmware.</p>
<p>That is, any two servomotors with any board with same version of the firmware, will have exactly the same set of configuration fields.</p>
<p>Motivation: we do not want the system to get complicated by supporting variations.</p>
<h1><a class="anchor" id="autotoc_md44"></a>
REQ6.5 Persistent configuration</h1>
<p>System shall have capability to store entire set of configuration internally. The stored configuration shall persist between reboots of the system, even in case of a loss of power.</p>
<p>Stored configuration is loaded during the boot sequence of the device, and never touched again, unless overwritten or cleaned.</p>
<h2><a class="anchor" id="autotoc_md45"></a>
REQ6.5.1 Entire set is always stored</h2>
<p>Entire set of key/value pairs existing in the current version of the firmware shall be stored in the persistent storage.</p>
<h2><a class="anchor" id="autotoc_md46"></a>
REQ6.5.2 Size of history</h2>
<p>The storing mechanism shall be able to store multiple records of configuration. Exact number is up to the each board or platform. At least 2 records shall be feasible.</p>
<h2><a class="anchor" id="autotoc_md47"></a>
REQ6.5.3 Clear removes history</h2>
<p>Clear command shall remove last set of fields from the persistent history.</p>
<h2><a class="anchor" id="autotoc_md48"></a>
REQ6.5.4 Firmware version is also stored</h2>
<p>Part of the stored configuration shall be version of firmware used to write the configuration. Information about the shall be retrievable from the system.</p>
<h1><a class="anchor" id="autotoc_md49"></a>
REQ6.6 Firmware version changes</h1>
<p>As firmware is developed, the exact set of fields in configuration will change. The system shall support backwards compatibility for any configuration stored in persistent history.</p>
<p>That is, if configuration is stored in any version, any subsequent version of the firmware shall be able to load said configuration without an error.</p>
<p>That does not imply that the system should be able to convert any fields from old version to a new, just that it happens without an error on best effort basis.</p>
<h1><a class="anchor" id="autotoc_md50"></a>
REQ6.7 Utility for changes shall exist</h1>
<p>Utility binary for host devices that can manage the configuration of servomotor shall exist and be accessible to the users. It should support all commands accessible via the main communication interface.</p>
<h1><a class="anchor" id="autotoc_md51"></a>
REQ6.8 Common format for storing on host side</h1>
<p>There should be one common format to store the configuration sets on host device.</p>
<p>TBD</p>
<h1><a class="anchor" id="autotoc_md52"></a>
REQ6.9 List of fields for configuration</h1>
<p>As a subrequirements to this, we have a subset of configuration fields that should be present. This is not full list, that always depends on the current version of firmware</p>
<h2><a class="anchor" id="autotoc_md53"></a>
REQ6.9.1 Model</h2>
<p>String with the name of the model of the servo, user-defined. For debug purposes only.</p>
<h2><a class="anchor" id="autotoc_md54"></a>
REQ6.9.2 ID</h2>
<p>Unique ID used by the main communication mechanism as described in 4.7. 32 bit unsigned integer value. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="md_doc_2requirements.html">Requirements</a></li>
    <li class="footer">Generated on Thu May 8 2025 20:52:18 for servio by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
