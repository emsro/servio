{
    "types": [
        {
            "name": "property",
            "kind": "enum",
            "values": [
                {
                    "key": "current",
                    "desc": "Actual current flowing through the servomotor"
                },
                {
                    "key": "vcc",
                    "desc": "Actual input voltage"
                },
                {
                    "key": "temp",
                    "desc": "Actual temperature of the MCU"
                },
                {
                    "key": "position",
                    "desc": "Actual position of the servomotor"
                },
                {
                    "key": "velocity",
                    "desc": "Actual velocity of the servomotor"
                }
            ]
        }
    ],
    "cmds": [
        {
            "name": "govctl",
            "type": "group",
            "desc": "Control the governors",
            "cmds": [
                {
                    "name": "activate",
                    "desc": "Activate a governor",
                    "type": "arg",
                    "args": [
                        {
                            "name": "governor",
                            "type": "string",
                            "desc": "Name of the governor to activate"
                        }
                    ]
                },
                {
                    "name": "deactivate",
                    "desc": "Deactivate currently active governor"
                },
                {
                    "name": "active",
                    "desc": "Returns name of active governor or nothing"
                },
                {
                    "name": "list",
                    "desc": "List X-th governor",
                    "type": "arg",
                    "args": [
                        {
                            "name": "index",
                            "type": "int32_t",
                            "desc": "Index of the governor to list, returns nothing in case of out of range index"
                        }
                    ]
                }
            ]
        },
        {
            "name": "gov",
            "type": "forward",
            "desc": "Forward to governors "
        },
        {
            "name": "prop",
            "type": "arg",
            "desc": "Get properties of the servomotor",
            "args": [
                {
                    "name": "name",
                    "type": "property",
                    "desc": "Property to get"
                }
            ]
        },
        {
            "name": "cfg",
            "type": "group",
            "desc": "Configuration commands for the servomotor. See configuration documentation to get list of existing fields. By default configuration commands target the servio itself, if governor argument is provided it targets the specific governor. As an alternative if field is delimited by single dot, the first string targets governor. That is current.curr_lim_min would target curr_lim_min field of current governor.",
            "cmds": [
                {
                    "name": "set",
                    "type": "arg",
                    "desc": "Set a configuration field",
                    "args": [
                        {
                            "name": "field",
                            "type": "string",
                            "desc": "Configuration field to set"
                        },
                        {
                            "name": "value",
                            "type": "expr_tok",
                            "desc": "Value to set for the configuration field, type depends on the field"
                        },
                        {
                            "name": "governor",
                            "type": "string",
                            "default": "\"\"",
                            "desc": "Name of governor from which list"
                        }
                    ]
                },
                {
                    "name": "get",
                    "type": "arg",
                    "desc": "Get a configuration field",
                    "args": [
                        {
                            "name": "field",
                            "type": "string",
                            "desc": "Configuration field to get"
                        },
                        {
                            "name": "governor",
                            "type": "string",
                            "default": "\"\"",
                            "desc": "Name of governor from which list"
                        }
                    ]
                },
                {
                    "name": "list",
                    "type": "arg",
                    "desc": "List X-th configuration field",
                    "args": [
                        {
                            "name": "index",
                            "type": "int32_t",
                            "default": 0,
                            "desc": "Index for the configuration field to list, returns nothing in case of out of range index"
                        },
                        {
                            "name": "governor",
                            "type": "string",
                            "default": "\"\"",
                            "desc": "Name of governor from which list"
                        }
                    ]
                },
                {
                    "name": "commit",
                    "desc": "Commit the current configuration changes to memory"
                },
                {
                    "name": "clear",
                    "desc": "Clear the current configuration from memory"
                }
            ]
        },
        {
            "name": "info",
            "desc": "Get information about the servomotor"
        }
    ]
}
